# LangChain完全入門　生成AIアプリケーション開発がはかどる大規模言語モデルの操り方のメモ

書籍のリンクはこちら：https://book.impress.co.jp/books/1123101047


# 1：ChatGPTとLangChain
この章は導入がメインであった．が，1点だけエッという点が...

- macOSの環境変数は，zshrcファイルに記述すれば良いらしい...知らんかった．
    - (zshrcファイルはzshシェルが起動するたびに読み込まれる設定ファイルだからだそう)

## OpenAIで利用できるモデルについて
2023年10月現在，2種類の生成モデルが一般的でこれらの使い分けが肝要．
- Chat
    - 対話形式のやりとりに特化している．おそらくRLHFされたモデル．
- Complete
    - 与えられた文章の続きを生成するのに特化したモデル．

## パラメータについて
Chatモデルのパラメータでメジャーなものは以下．
- max_tokens：生成する文章の最大トークン数
- n：生成する文章の数
- temperature：生成する文章の多様度を決定するパラメータ
    - 0〜2の値を取り，値が高いほど出力の多様度が上昇する． 
    - 詩や物語を生成したい場合には低めの値，論理的な文章を生成したい場合には高めの値が良いらしい．

上記にはない，Completeモデルのパラメータでメジャーなものは以下．
- stop：文字が出現したら文章を終了する（例えば"。"）

# 2：Model I/O - 言語モデルを扱いやすくする

# 3：Hogehoge

# 3.5：chainlitに関する補足
Chainlitは対話アプリケーションを簡単に実装するのに便利なライブラリ．
非同期通信などの機能も含まれているので，フロントエンドをいじることなく画面を得ることができる．
- 分かりやすいイメージとしてはFlaskのような感じ．

こんな画面が得られるよ．

# 4：Memory - 過去の対話を短期・長期で記憶する
Chatモデルは複数回の対話にも対応したモデルであるが，API利用の際には過去の履歴を残すことができないという問題がある．
Memoryモジュールは過去の対話履歴を適切に管理して，最新の対話に反映させるようにするモジュール．
長期にわたる記憶を維持するために，データベースと紐づけるような機能もあるため，とても使い勝手が良い．

- ConversationBufferMemory
    - 過去の会話ログを全てプロンプトに追加するスタイル 

- ConversationSummaryMemory
    - 過去の会話ログの要約をプロンプトに追加するスタイル

- ConversationBufferWindowMemory
    - 過去の会話のk回分の対話をプロンプトに追加するスタイル

- ConversationSummaryBufferMemory
    - 過去の会話の要約の終わりkトークン分をプロンプト追加するスタイル

# 5：Chains - 複数の処理をまとめる

- ConversationChainについて
    - このChainを使うことで，LLMの呼び出しとmemoryの管理（記録と取り出し）を一括でできる